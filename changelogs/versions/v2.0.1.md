# Changelog

## [2.0.1] - 2023-11-23

### Added
- **Validation forcée des comptes CNCJ** : Nouvelle fonctionnalité permettant de forcer la validation des comptes en conflit CNCJ sans modifier leur code
  - Case à cocher "Forcer la validation" à côté des erreurs de correspondance CNCJ
  - Conservation de l'état de validation forcée lors de la navigation entre les étapes
  - Persistance de l'état dans les sauvegardes de projet
  - Nettoyage automatique lors du chargement de nouveaux fichiers ou de la navigation arrière

### Fixed
- Correction du problème d'ouverture du fichier `index.html` depuis le répertoire de build
  - Configuration de Vite pour générer un fichier HTML autonome avec tout le code en ligne
  - Suppression des dépendances externes qui causaient des erreurs CORS
  - Optimisation pour une utilisation hors ligne (sans serveur)
- Correction de la gestion des validations forcées lors du rechargement de la page
- Amélioration de la compatibilité avec les anciennes sauvegardes de projet

### Changed
- Mise à jour de la configuration de build pour supporter l'ouverture directe du fichier HTML
- Amélioration de la documentation du processus de build

### Technical Details
- Utilisation de `vite-plugin-singlefile` pour générer un fichier HTML autonome
- Configuration de Rollup pour le format IIFE pour une meilleure compatibilité
- Suppression des références inutiles aux ressources externes
- Ajout de `cncjForcedValidations` au state global de l'application
- Implémentation de la persistance avec conversion Set↔Array pour la sauvegarde/chargement

> **Note** : Cette version permet maintenant de distribuer simplement le fichier `index.html` généré dans le dossier `dist/` sans avoir besoin d'un serveur web.
