# Changelog v2.1.1

## [2.1.1] - 2025-12-04

### Fixed
- **Persistance des suggestions** : sauvegarde et restauration complètes des suggestions initiales avec détails des calculs
- **Modal de détails** : conservation des calculs originaux après chargement d'un projet sauvegardé
- **Export CSV** : maintien des détails des suggestions après rechargement
- **Compatibilité ascendante** : fichiers projets anciens toujours chargeables

### Changed
- **Structure de sauvegarde** : ajout des champs `initialSuggestions` et `initialCncjSuggestions`
- **Validation des fichiers** : vérification des nouveaux champs avec compatibilité ascendante
- **Priorité des données** : utilisation des suggestions sauvegardées si disponibles, sinon calcul dynamique

### Technical Details
- Ajout des props `savedInitialSuggestions` et `savedInitialCncjSuggestions` dans `ResultsDisplay`
- Mise à jour de la chaîne de transmission : `App.tsx` → `Step6CNCJConflicts` → `ResultsDisplay`
- Correction des types TypeScript (`any` → `SuggestionResult`)
- Validation améliorée des fichiers projet

### Files Modified
- `src/utils/projectPersistence.ts` - Sauvegarde/chargement des suggestions initiales
- `src/types/accounts.ts` - Ajout des champs dans AppState et actions
- `src/App.tsx` - État initial et transmission des props
- `src/components/ResultsDisplay.tsx` - Utilisation des suggestions sauvegardées
- `src/steps/Step6CNCJConflicts.tsx` - Transmission des suggestions initiales

---
*Release date: 2025-12-04*
